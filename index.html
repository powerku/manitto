<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>ì‹¬í”Œ ë§ˆë‹ˆë˜ ë½‘ê¸°</title>
    <style>
        body { font-family: 'Pretendard', sans-serif; display: flex; justify-content: center; padding: 50px; background-color: #f0f2f5; }
        .container { background: white; padding: 30px; border-radius: 15px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); width: 400px; text-align: center; }
        textarea { width: 100%; height: 100px; margin: 10px 0; padding: 10px; border: 1px solid #ddd; border-radius: 8px; box-sizing: border-box; resize: none; }
        button { background-color: #ff4757; color: white; border: none; padding: 10px 20px; border-radius: 8px; cursor: pointer; font-weight: bold; width: 100%; }
        button:hover { background-color: #ff6b81; }
        #result { margin-top: 20px; text-align: left; background: #f9f9f9; padding: 15px; border-radius: 8px; display: none; }
        .pair { margin-bottom: 5px; border-bottom: 1px dashed #ccc; padding-bottom: 3px; }
    </style>
</head>
<body>

<div class="container">
    <h2>ğŸ ë§ˆë‹ˆë˜ ë½‘ê¸°</h2>
    <p>ì´ë¦„ì„ ì‰¼í‘œ(,)ë‚˜ ì—”í„°ë¡œ êµ¬ë¶„í•´ì„œ ì…ë ¥í•˜ì„¸ìš”.</p>
    <textarea id="nameInput" placeholder="ì˜ˆ: ê¹€ì² ìˆ˜, ì´ì˜í¬, ë°•ì§€ë¯¼, ìµœë¯¼ìˆ˜"></textarea>
    <button onclick="drawManitto()">ë§ˆë‹ˆë˜ ë§¤ì¹­í•˜ê¸°!</button>

    <div id="result">
        <h3>ğŸ‰ ê²°ê³¼ í™•ì¸</h3>
        <div id="pairList"></div>
    </div>
</div>

<script>
    function drawManitto() {
        const input = document.getElementById('nameInput').value;
        // ê³µë°± ì œê±° ë° ë°°ì—´ ë³€í™˜
        let names = input.split(/[\n,]+/).map(name => name.trim()).filter(name => name !== "");

        if (names.length < 2) {
            alert("ìµœì†Œ 2ëª… ì´ìƒì˜ ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”!");
            return;
        }

        let giver = [...names];
        let receiver = [...names];
        let success = false;
        let attempts = 0;

        // ìê¸° ìì‹ ì„ ë½‘ì§€ ì•Šì„ ë•Œê¹Œì§€ ì„ê¸° (ìµœëŒ€ 100ë²ˆ ì‹œë„)
        while (!success && attempts < 100) {
            attempts++;
            receiver.sort(() => Math.random() - 0.5);

            success = giver.every((name, index) => name !== receiver[index]);
        }

        if (!success) {
            alert("ë§¤ì¹­ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”!");
            return;
        }

        // ê²°ê³¼ í™”ë©´ì— ì¶œë ¥
        const pairList = document.getElementById('pairList');
        pairList.innerHTML = "";
        giver.forEach((name, index) => {
            pairList.innerHTML += `<div class="pair"><strong>${name}</strong> â†’ ${receiver[index]}</div>`;
        });

        document.getElementById('result').style.display = 'block';
    }
</script>

</body>
</html>